<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>FasaNico Telecom</title>

  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
          integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
          crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.1/cjs/popper.min.js"
          integrity="sha256-T3bYsIPyOLpEfeZOX4M7J59ZoDMzuYFUsPiSN3Xcc2M=" crossorigin="anonymous"></script>

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
          integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
          crossorigin="anonymous"></script>
</head>
<body>
<div th:replace="/WEB-INF/templateHTML/customTags/header::header"></div>
<h1>SALES REPORT</h1>
<title>Title</title>
<style>
  .row{
    font-size: 15px !important;
  }

  .head{
    font-size: 55px !important;
  }

</style>


<div class="card-column" >
  <div class="card bg-light mb-3 selection" >
    <div class="card-header head" th:text="'Total purchases: '+ ${totalPurchases} + ' (made in '+ ${purchasesCountsGrouped.size()}+ ' different packages)'"></div>
    <div class="card-body">
      <div class="card-columns" >
        <div class="card bg-light mb-3 selection" th:each="purchasesCountGrouped : ${purchasesCountsGrouped}">
          <div class="card-header row" th:text="${purchasesCountGrouped.getName()}"}></div>
          <div class="card-body">
            <h5 class="card-title" th:text="${purchasesCountGrouped.getCount()}"></h5>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="card-columns" >
  <div class="card bg-light mb-3 selection" >
    <div class="card-header head" th:text="'Total purchases: '+ ${totalPurchases} + ' (made in '+ ${purchasesCounts.size()}+ ' different rate packages)'"></div>
    <div class="card-body">
      <div class="card-columns" >
        <div class="card bg-light mb-3 selection" th:each="purchasesCount : ${purchasesCounts}">
          <div class="card-header row" th:text="${purchasesCount.getName() + ' ('+purchasesCount.getValidity()+' months rate)'}"></div>
          <div class="card-body">
            <h5 class="card-title" th:text="${purchasesCount.getCount()}"></h5>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<div class="card-columns">
  <div class="card bg-light mb-3 selection" >
    <div class="card-header  head" th:text="'Average purchases per package'"></div>
    <div class="card-body">
      <div class="card-columns" >
        <div class="card bg-light mb-3 selection" th:each="optionalProductsAverage : ${optionalProductsAverages}">
          <div class="card-header row" th:text="${optionalProductsAverage.getName()}"></div>
          <div class="card-body">
            <h5 class="card-title" th:text="${optionalProductsAverage.getAvg()}"></h5>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="card-columns ">
  <div class="card bg-light mb-3 selection">
    <div class="card-header head" th:text="'Value of Sales'"></div>
    <div class="card-body">
      <div class="card-columns">
        <div class="card bg-light mb-3 selection" th:each="valueOfSale : ${valueOfSalesDetailed}">
          <div class="card-header " th:text="${valueOfSale.getName()}"></div>
            <div class="card-header row" th:text="'Total revenue'"></div>
          <div class="card-body">
            <h5 class="card-title" th:text="${valueOfSale.getTotalPayment()}"></h5>
          </div>
          <div th:if="${valueOfSale.getTotalPaymentWithoutOP()}">
            <div class="card-header row" th:text="'Without Optional Products'"></div>
            <div class="card-body">
              <h5 class="card-title" th:text="${valueOfSale.getTotalPaymentWithoutOP()}"></h5>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="card-columns ">
  <div class="card bg-light mb-3 selection">
    <div class="card-header head">Insolvent Reports</div>
    <div class="card-body">
        <div class="card bg-light mb-3 selection">
          <div class="card-header head">Insolvent Users</div>
            <div class="card bg-light mb-3 selection" th:each="user : ${usersInsolvent}">
          <div class="card-header " th:text="'id :'+${user.getId()}"></div>
          <div class="card-body">
            <h5 class="card-title" th:text="${user.getUsername()}"></h5>
          </div>
      </div>
        </div>



        <div class="card bg-light mb-3 selection">
          <div class="card-header head">Suspended Orders</div>
        <div class="card bg-light mb-3 selection" th:each="order : ${ordersSuspended}">
          <div class="card-header " th:text="'id :'+${order.getId()}"></div>
          <div class="card-body">
            <h5 class="card-title" th:text="${order.getTotalPayment()}+'$'"></h5>
          </div>
      </div>
        </div>

        <div class="card bg-light mb-3 selection">
          <div class="card-header head">Alerts</div>
      <div class="card-columns" >
        <div class="card bg-light mb-3 selection" th:each="alert : ${insolventReports}">
          <div class="card-header " th:text="'id:'+${alert.getId()}"></div>
          <div class="card-body">
            <h5 class="card-title row" th:text="${alert.getUsername()} +', '+ ${alert.getEmail()} +', '+ ${alert.getLastDate()}+', '+ ${alert.getAmount()} +'$'"></h5>
          </div>
  </div>
      </div>
    </div>
  </div>
</div>
</div>

<div class="card-column" >
  <div class="card bg-light mb-3 selection" >
    <div class="card-header head" th:text="'Optional Product Best Sellers'"></div>
    <div class="card-body">
      <div class="card-columns" >
        <div class="card bg-light mb-3 selection" th:each="BestSellersForValue : ${optionalProductBestSellersForValue}">
          <div class="card-header " th:text="${BestSellersForValue.getName()} +' (for Value)'"}></div>
          <div class="card-body">
            <h5 class="card-title" th:text="${BestSellersForValue.getAmountSold()} + ' sold for '+${BestSellersForValue.getValue()}+'$'"></h5>
          </div>
        </div>
      </div>
    <div class="card-columns" >
      <div class="card bg-light mb-3 selection" th:each="BestSellersForAmount : ${optionalProductBestSellersForAmount}">
      <div class="card-header " th:text="${BestSellersForAmount.getName()}+' (for Amount)'"}></div>
      <div class="card-body">
        <h5 class="card-title" th:text="${BestSellersForAmount.getAmountSold()} + ' sold for '+${BestSellersForAmount.getValue()}+'$'"></h5>
      </div>
    </div>
  </div>
    </div>
  </div>
</div>

</body>
</html>

</body>
</html>